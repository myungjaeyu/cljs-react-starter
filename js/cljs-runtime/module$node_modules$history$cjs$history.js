shadow$provide.module$node_modules$history$cjs$history=function(global,require,module,exports){function _interopDefault(ex){return ex&&"object"===typeof ex&&"default"in ex?ex["default"]:ex}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i],key;for(key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};return _extends.apply(this,arguments)}function addLeadingSlash(path){return"/"===
path.charAt(0)?path:"/"+path}function stripLeadingSlash(path){return"/"===path.charAt(0)?path.substr(1):path}function hasBasename(path,prefix){return(new RegExp("^"+prefix+"(\\/|\\?|#|$)","i")).test(path)}function stripBasename(path,prefix){return hasBasename(path,prefix)?path.substr(prefix.length):path}function stripTrailingSlash(path){return"/"===path.charAt(path.length-1)?path.slice(0,-1):path}function parsePath(path){path=path||"/";var search="",hash="",hashIndex=path.indexOf("#");-1!==hashIndex&&
(hash=path.substr(hashIndex),path=path.substr(0,hashIndex));hashIndex=path.indexOf("?");-1!==hashIndex&&(search=path.substr(hashIndex),path=path.substr(0,hashIndex));return{pathname:path,search:"?"===search?"":search,hash:"#"===hash?"":hash}}function createPath(location){var search=location.search,hash=location.hash;location=location.pathname||"/";search&&"?"!==search&&(location+="?"===search.charAt(0)?search:"?"+search);hash&&"#"!==hash&&(location+="#"===hash.charAt(0)?hash:"#"+hash);return location}
function createLocation(path,state,key,currentLocation){"string"===typeof path?(path=parsePath(path),path.state=state):(path=_extends({},path),void 0===path.pathname&&(path.pathname=""),path.search?"?"!==path.search.charAt(0)&&(path.search="?"+path.search):path.search="",path.hash?"#"!==path.hash.charAt(0)&&(path.hash="#"+path.hash):path.hash="",void 0!==state&&void 0===path.state&&(path.state=state));try{path.pathname=decodeURI(path.pathname)}catch(e){if(e instanceof URIError)throw new URIError('Pathname "'+
path.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.');throw e;}key&&(path.key=key);currentLocation?path.pathname?"/"!==path.pathname.charAt(0)&&(path.pathname=resolvePathname(path.pathname,currentLocation.pathname)):path.pathname=currentLocation.pathname:path.pathname||(path.pathname="/");return path}function locationsAreEqual(a,b){return a.pathname===b.pathname&&a.search===b.search&&a.hash===b.hash&&a.key===b.key&&valueEqual(a.state,b.state)}function createTransitionManager(){var prompt=
null,listeners=[];return{setPrompt:function(nextPrompt){warning(null==prompt,"A history supports only one prompt at a time");prompt=nextPrompt;return function(){prompt===nextPrompt&&(prompt=null)}},confirmTransitionTo:function(location,action,getUserConfirmation,callback){null!=prompt?(location="function"===typeof prompt?prompt(location,action):prompt,"string"===typeof location?"function"===typeof getUserConfirmation?getUserConfirmation(location,callback):(warning(!1,"A history needs a getUserConfirmation function in order to use a prompt message"),
callback(!0)):callback(!1!==location)):callback(!0)},appendListener:function(fn){function listener(){isActive&&fn.apply(void 0,arguments)}var isActive=!0;listeners.push(listener);return function(){isActive=!1;listeners=listeners.filter(function(item){return item!==listener})}},notifyListeners:function(){for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];listeners.forEach(function(listener){return listener.apply(void 0,args)})}}}function getConfirmation(message,
callback){callback(window.confirm(message))}function supportsHistory(){var ua=window.navigator.userAgent;return-1===ua.indexOf("Android 2.")&&-1===ua.indexOf("Android 4.0")||-1===ua.indexOf("Mobile Safari")||-1!==ua.indexOf("Chrome")||-1!==ua.indexOf("Windows Phone")?window.history&&"pushState"in window.history:!1}function getHistoryState(){try{return window.history.state||{}}catch(e){return{}}}function getHashPath(){var href=window.location.href,hashIndex=href.indexOf("#");return-1===hashIndex?"":
href.substring(hashIndex+1)}function replaceHashPath(path){var hashIndex=window.location.href.indexOf("#");window.location.replace(window.location.href.slice(0,0<=hashIndex?hashIndex:0)+"#"+path)}Object.defineProperty(exports,"__esModule",{value:!0});var resolvePathname=_interopDefault(require("module$node_modules$resolve_pathname$cjs$index")),valueEqual=_interopDefault(require("module$node_modules$value_equal$cjs$index")),warning=_interopDefault(require("module$node_modules$tiny_warning$dist$tiny_warning_cjs")),
invariant=_interopDefault(require("module$node_modules$tiny_invariant$dist$tiny_invariant_cjs")),canUseDOM=!("undefined"===typeof window||!window.document||!window.document.createElement),HashPathCoders={hashbang:{encodePath:function(path){return"!"===path.charAt(0)?path:"!/"+stripLeadingSlash(path)},decodePath:function(path){return"!"===path.charAt(0)?path.substr(1):path}},noslash:{encodePath:stripLeadingSlash,decodePath:addLeadingSlash},slash:{encodePath:addLeadingSlash,decodePath:addLeadingSlash}};
exports.createBrowserHistory=function(props){function getDOMLocation(historyState){var _ref=historyState||{};historyState=_ref.key;_ref=_ref.state;var _window$location=window.location;_window$location=_window$location.pathname+_window$location.search+_window$location.hash;warning(!basename||hasBasename(_window$location,basename),'You are attempting to use a basename on a page whose URL path does not begin with the basename. Expected path "'+_window$location+'" to begin with "'+basename+'".');basename&&
(_window$location=stripBasename(_window$location,basename));return createLocation(_window$location,_ref,historyState)}function setState(nextState){_extends(history,nextState);history.length=globalHistory.length;transitionManager.notifyListeners(history.location,history.action)}function handlePopState(event){void 0===event.state&&-1===navigator.userAgent.indexOf("CriOS");handlePop(getDOMLocation(event.state))}function handleHashChange(){handlePop(getDOMLocation(getHistoryState()))}function handlePop(location){forceNextPop?
(forceNextPop=!1,setState()):transitionManager.confirmTransitionTo(location,"POP",getUserConfirmation,function(ok){if(ok)setState({action:"POP",location:location});else{ok=allKeys.indexOf(history.location.key);-1===ok&&(ok=0);var fromIndex=allKeys.indexOf(location.key);-1===fromIndex&&(fromIndex=0);if(ok-=fromIndex)forceNextPop=!0,go(ok)}})}function createHref(location){return basename+createPath(location)}function go(n){globalHistory.go(n)}function checkDOMListeners(delta){listenerCount+=delta;1===
listenerCount&&1===delta?(window.addEventListener("popstate",handlePopState),needsHashChangeListener&&window.addEventListener("hashchange",handleHashChange)):0===listenerCount&&(window.removeEventListener("popstate",handlePopState),needsHashChangeListener&&window.removeEventListener("hashchange",handleHashChange))}void 0===props&&(props={});canUseDOM?void 0:invariant(!1,"Browser history needs a DOM");var globalHistory=window.history,canUseHistory=supportsHistory(),needsHashChangeListener=-1!==window.navigator.userAgent.indexOf("Trident"),
_props=props,_props$forceRefresh=_props.forceRefresh,forceRefresh=void 0===_props$forceRefresh?!1:_props$forceRefresh;_props$forceRefresh=_props.getUserConfirmation;var getUserConfirmation=void 0===_props$forceRefresh?getConfirmation:_props$forceRefresh;_props=_props.keyLength;var keyLength=void 0===_props?6:_props,basename=props.basename?stripTrailingSlash(addLeadingSlash(props.basename)):"",transitionManager=createTransitionManager(),forceNextPop=!1;props=getDOMLocation(getHistoryState());var allKeys=
[props.key],listenerCount=0,isBlocked=!1,history={length:globalHistory.length,action:"POP",location:props,createHref:createHref,push:function(path,state$jscomp$0){warning(!("object"===typeof path&&void 0!==path.state&&void 0!==state$jscomp$0),"You should avoid providing a 2nd state argument to push when the 1st argument is a location-like object that already has state; it is ignored");var location=createLocation(path,state$jscomp$0,Math.random().toString(36).substr(2,keyLength),history.location);
transitionManager.confirmTransitionTo(location,"PUSH",getUserConfirmation,function(ok){if(ok){ok=createHref(location);var key=location.key,state=location.state;canUseHistory?(globalHistory.pushState({key:key,state:state},null,ok),forceRefresh?window.location.href=ok:(ok=allKeys.indexOf(history.location.key),ok=allKeys.slice(0,-1===ok?0:ok+1),ok.push(location.key),allKeys=ok,setState({action:"PUSH",location:location}))):(warning(void 0===state,"Browser history cannot push state in browsers that do not support HTML5 history"),
window.location.href=ok)}})},replace:function(path,state$jscomp$0){warning(!("object"===typeof path&&void 0!==path.state&&void 0!==state$jscomp$0),"You should avoid providing a 2nd state argument to replace when the 1st argument is a location-like object that already has state; it is ignored");var location=createLocation(path,state$jscomp$0,Math.random().toString(36).substr(2,keyLength),history.location);transitionManager.confirmTransitionTo(location,"REPLACE",getUserConfirmation,function(ok){if(ok){ok=
createHref(location);var key=location.key,state=location.state;canUseHistory?(globalHistory.replaceState({key:key,state:state},null,ok),forceRefresh?window.location.replace(ok):(ok=allKeys.indexOf(history.location.key),-1!==ok&&(allKeys[ok]=location.key),setState({action:"REPLACE",location:location}))):(warning(void 0===state,"Browser history cannot replace state in browsers that do not support HTML5 history"),window.location.replace(ok))}})},go:go,goBack:function(){go(-1)},goForward:function(){go(1)},
block:function(prompt){void 0===prompt&&(prompt=!1);var unblock=transitionManager.setPrompt(prompt);isBlocked||(checkDOMListeners(1),isBlocked=!0);return function(){isBlocked&&(isBlocked=!1,checkDOMListeners(-1));return unblock()}},listen:function(listener){var unlisten=transitionManager.appendListener(listener);checkDOMListeners(1);return function(){checkDOMListeners(-1);unlisten()}}};return history};exports.createHashHistory=function(props){function getDOMLocation(){var path=decodePath(getHashPath());
warning(!basename||hasBasename(path,basename),'You are attempting to use a basename on a page whose URL path does not begin with the basename. Expected path "'+path+'" to begin with "'+basename+'".');basename&&(path=stripBasename(path,basename));return createLocation(path)}function setState(nextState){_extends(history,nextState);history.length=globalHistory.length;transitionManager.notifyListeners(history.location,history.action)}function handleHashChange(){var path=getHashPath(),encodedPath=encodePath(path);
path!==encodedPath?replaceHashPath(encodedPath):(path=getDOMLocation(),encodedPath=history.location,!forceNextPop&&locationsAreEqual(encodedPath,path)||ignorePath===createPath(path)||(ignorePath=null,handlePop(path)))}function handlePop(location){forceNextPop?(forceNextPop=!1,setState()):transitionManager.confirmTransitionTo(location,"POP",getUserConfirmation,function(ok){if(ok)setState({action:"POP",location:location});else{ok=allPaths.lastIndexOf(createPath(history.location));-1===ok&&(ok=0);var fromIndex=
allPaths.lastIndexOf(createPath(location));-1===fromIndex&&(fromIndex=0);if(ok-=fromIndex)forceNextPop=!0,go(ok)}})}function go(n){warning(canGoWithoutReload,"Hash history go(n) causes a full page reload in this browser");globalHistory.go(n)}function checkDOMListeners(delta){listenerCount+=delta;1===listenerCount&&1===delta?window.addEventListener("hashchange",handleHashChange):0===listenerCount&&window.removeEventListener("hashchange",handleHashChange)}void 0===props&&(props={});canUseDOM?void 0:
invariant(!1,"Hash history needs a DOM");var globalHistory=window.history,canGoWithoutReload=-1===window.navigator.userAgent.indexOf("Firefox"),_props=props,_props$getUserConfirm=_props.getUserConfirmation,getUserConfirmation=void 0===_props$getUserConfirm?getConfirmation:_props$getUserConfirm;_props=_props.hashType;_props=void 0===_props?"slash":_props;var basename=props.basename?stripTrailingSlash(addLeadingSlash(props.basename)):"";props=HashPathCoders[_props];var encodePath=props.encodePath,decodePath=
props.decodePath,transitionManager=createTransitionManager(),forceNextPop=!1,ignorePath=null;props=getHashPath();_props=encodePath(props);props!==_props&&replaceHashPath(_props);props=getDOMLocation();var allPaths=[createPath(props)],listenerCount=0,isBlocked=!1,history={length:globalHistory.length,action:"POP",location:props,createHref:function(location){return"#"+encodePath(basename+createPath(location))},push:function(path,state){warning(void 0===state,"Hash history cannot push state; it is ignored");
var location=createLocation(path,void 0,void 0,history.location);transitionManager.confirmTransitionTo(location,"PUSH",getUserConfirmation,function(ok){if(ok){ok=createPath(location);var encodedPath=encodePath(basename+ok);getHashPath()!==encodedPath?(ignorePath=ok,window.location.hash=encodedPath,encodedPath=allPaths.lastIndexOf(createPath(history.location)),encodedPath=allPaths.slice(0,-1===encodedPath?0:encodedPath+1),encodedPath.push(ok),allPaths=encodedPath,setState({action:"PUSH",location:location})):
(warning(!1,"Hash history cannot PUSH the same path; a new entry will not be added to the history stack"),setState())}})},replace:function(path,state){warning(void 0===state,"Hash history cannot replace state; it is ignored");var location=createLocation(path,void 0,void 0,history.location);transitionManager.confirmTransitionTo(location,"REPLACE",getUserConfirmation,function(ok){if(ok){ok=createPath(location);var encodedPath=encodePath(basename+ok);getHashPath()!==encodedPath&&(ignorePath=ok,replaceHashPath(encodedPath));
encodedPath=allPaths.indexOf(createPath(history.location));-1!==encodedPath&&(allPaths[encodedPath]=ok);setState({action:"REPLACE",location:location})}})},go:go,goBack:function(){go(-1)},goForward:function(){go(1)},block:function(prompt){void 0===prompt&&(prompt=!1);var unblock=transitionManager.setPrompt(prompt);isBlocked||(checkDOMListeners(1),isBlocked=!0);return function(){isBlocked&&(isBlocked=!1,checkDOMListeners(-1));return unblock()}},listen:function(listener){var unlisten=transitionManager.appendListener(listener);
checkDOMListeners(1);return function(){checkDOMListeners(-1);unlisten()}}};return history};exports.createMemoryHistory=function(props){function setState(nextState){_extends(history,nextState);history.length=history.entries.length;transitionManager.notifyListeners(history.location,history.action)}function createKey(){return Math.random().toString(36).substr(2,keyLength)}function go(n){var nextIndex=Math.min(Math.max(history.index+n,0),history.entries.length-1),location=history.entries[nextIndex];transitionManager.confirmTransitionTo(location,
"POP",getUserConfirmation,function(ok){ok?setState({action:"POP",location:location,index:nextIndex}):setState()})}void 0===props&&(props={});var _props=props,getUserConfirmation=_props.getUserConfirmation;props=_props.initialEntries;props=void 0===props?["/"]:props;var _props$initialIndex=_props.initialIndex;_props$initialIndex=void 0===_props$initialIndex?0:_props$initialIndex;_props=_props.keyLength;var keyLength=void 0===_props?6:_props,transitionManager=createTransitionManager();_props=Math.min(Math.max(_props$initialIndex,
0),props.length-1);props=props.map(function(entry){return"string"===typeof entry?createLocation(entry,void 0,createKey()):createLocation(entry,void 0,entry.key||createKey())});var history={length:props.length,action:"POP",location:props[_props],index:_props,entries:props,createHref:createPath,push:function(path,state){warning(!("object"===typeof path&&void 0!==path.state&&void 0!==state),"You should avoid providing a 2nd state argument to push when the 1st argument is a location-like object that already has state; it is ignored");
var location=createLocation(path,state,createKey(),history.location);transitionManager.confirmTransitionTo(location,"PUSH",getUserConfirmation,function(ok){if(ok){ok=history.index+1;var nextEntries=history.entries.slice(0);nextEntries.length>ok?nextEntries.splice(ok,nextEntries.length-ok,location):nextEntries.push(location);setState({action:"PUSH",location:location,index:ok,entries:nextEntries})}})},replace:function(path,state){warning(!("object"===typeof path&&void 0!==path.state&&void 0!==state),
"You should avoid providing a 2nd state argument to replace when the 1st argument is a location-like object that already has state; it is ignored");var location=createLocation(path,state,createKey(),history.location);transitionManager.confirmTransitionTo(location,"REPLACE",getUserConfirmation,function(ok){ok&&(history.entries[history.index]=location,setState({action:"REPLACE",location:location}))})},go:go,goBack:function(){go(-1)},goForward:function(){go(1)},canGo:function(n){n=history.index+n;return 0<=
n&&n<history.entries.length},block:function(prompt){void 0===prompt&&(prompt=!1);return transitionManager.setPrompt(prompt)},listen:function(listener){return transitionManager.appendListener(listener)}};return history};exports.createLocation=createLocation;exports.locationsAreEqual=locationsAreEqual;exports.parsePath=parsePath;exports.createPath=createPath}
//# sourceMappingURL=module$node_modules$history$cjs$history.js.map
